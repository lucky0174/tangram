camera:
    type: perspective
    # focal_length: 1
    focal_length: [[16, 2], [17, 2.5], [18, 3], [19, 4], [20, 6]] # pairs of [zoom, focal len]
    vanishing_point: [-.25, -.25] # slightly off-center viewing angle, towards lower-left of screen

lighting:
    type: none

modes:

    ghosts:
        extends: points
        animated: true
        texcoords: true
        shaders:
            uniforms:
                u_texture: demos/images/ghost_strip.gif
            transforms:
                globals: |
                    uniform sampler2D u_texture;
                fragment: |
                    float number_of_frames = 2.;
                    float frames_per_second = 2.;

                    float offset = floor(mod(u_time * frames_per_second, 2.))*.5;
                    color = texture2D(u_texture, (vec2(v_texcoord.x/number_of_frames, v_texcoord.y) + vec2(offset, 0.))).rgb;
                    if (color[0] == 0. && color[1] == 0. && color[2] == 0.) discard;

layers:
    water_ocean:
        color:
            default: [0, 0, 0]

    earth:
        color:
            default: [0, 0, 0]

    landuse:
        color:
            default: [0, 0, 0]
        outline:
            color:
                default: [0, 0, 1]
            width:
                default: 3

    water_areas:
        color:
            default: [0, 0, 0]

    roads:
        interactive: function (f, t) { return (t.coords.z >= 18); }
        color:
            default: [1, 1, 0]
        width:
            default: Style.pixels(5)


    buildings:
        color:
            default: [0, 0, 0]
        outline:
            color:
                default: [0, 0, 1]
            width:
                default: Style.pixels(8)


    pois:
        mode:
            # name: points
            name: ghosts
        filter: function (f) { return f.properties.name != null; }
        interactive: true
        size:
            default: Style.pixels(20)
