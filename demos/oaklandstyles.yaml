# oakland interchange:
# http://localhost:8000/#mapzen,37.80975004772091,-122.27886199951173,14

# nyc lincoln tunnel approach:


camera:
    type: isometric
    # focal_length: 1
    focal_length: [[16, 2], [17, 2.5], [18, 3], [19, 4], [20, 6]] # pairs of [zoom, focal len]
    vanishing_point: [-.25, -.25] # slightly off-center viewing angle, towards lower-left of screen

    # type: isometric
    # axis: [1, .5]

    # type: flat

lighting:
    type: flat

modes:


layers:
    earth:
        color:
            default: [.4, .4, .4]

    landuse:
        interactive: true
        color:
            default: [0.5, 0.875, 0.5]
            pitch: [0.3, 0.675, 0.3]
        # outline:
        #     color:
        #         default: [1, 1, 1]
        #     width:
        #         default: 1

    water:
        # mode:
        #     name: water
        interactive: true
        color:
            default: [0.83, 0.83, 0.83]
        outline:
            color:
                default: [.6, .6, .6]
            width:
                default:
                    function () {
                        return (
                            zoom >= 16 &&
                            (feature.kind != 'ocean' && feature.kind != 'riverbank') &&
                            (2.5 * Math.log(zoom))
                        );
                    }

    roads:
        # interactive: function () { return (zoom >= 18); }
        interactive: true
        order: function () { return feature.sort_key * .000025; }
        # order: "function () { return (feature.sort_key * .000025) - (feature.outline ? .0001 : 0); }"
        color:
            # default: Style.color.randomColor
            default: [1, 1, 1]
            highway: [1.0, .8, .0]
            # highway: function () { return (feature.is_link == "yes" && [1.0, .8, .0] || [1.0, .0, .0]) }
            # major_road: [0.5, 0.5, 0.5]
            minor_road: [0.8, 0.8, 0.8]
            path: [0.8, 0.8, 0.8]
            # rail: [.5, 0, 0]
            debug: [1, 0, 0]
        width:
            # default: Style.pixels(5)
            default: function () { return 3 * Math.log(zoom); }
            # highway: function () { return 9 * Math.log(zoom); }
            highway: function () { return 9 * Math.log(zoom)); }
            major_road: function () { return 8 * Math.log(zoom); }
            minor_road: function () { return 7 * Math.log(zoom); }
            path: function () { return 1 * Math.log(zoom); }
            rail: return 0
            debug: function () { return 5; }
        # z:
        #     path: 25
        outline:
            color:
                default: [0., 0., 0.]
            width:
                default:
                    function () { return (zoom >= 16 && (2/8 * Math.log(zoom))); }
                # highway:
                #     function () { return (zoom >= 14 && (5 * Math.log(zoom))); }
                highway:
                    function () { return zoom >= 14 && (feature.is_link == "yes" && 3 * Math.log(zoom) || 5 * Math.log(zoom)); }
                major_road:
                    function () { return (zoom >= 14 && (2 * Math.log(zoom))); }
                minor_road:
                    function () { return (zoom >= 14 && (2 * Math.log(zoom))); }
                path:
                    function () { return (zoom >= 16 && (2/8 * Math.log(zoom))); }
                rail: 0
                debug:
                    function () { return (zoom >= 16 && (2/8 * Math.log(zoom))); }

    buildings:
        interactive: true
        color:
            default: [.2, .2, .2]
        # extrude:
        #     default: function () { return ((zoom >= 15 && feature.height > 20) || zoom >= 16) }

    pois:
        mode:
            name: points
            # name: ghosts
            # name: formica
        filter: function () { return feature.name != null; }
        # visible: false
        interactive: true
        # z:
        #     default: 25
        color:
            default: [1, 1, 0]
        size:
            # default: 5
            default: Style.pixels(5)
            # default: Style.pixels(20) # for ghosts
            # default: Style.pixels(function () { return Math.pow(1.2, zoom); })
            # default: function () { return 2 * zoom; }

    # places:
    #     filter: function(f, t) { return (zoom >= 13); }
    #     color: {
    #         # default: [0.0, 1.0, 1.0]
    #         default: function(f) { return feature.kind == 'administrative' ? [1, 0, 1] : [1, 1, 0]; }
    #     size:
    #         default: Style.pixels(5)
