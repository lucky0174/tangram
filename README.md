Tangram: WebGL for OpenStreetMap
===

[![Circle CI](https://circleci.com/gh/tangrams/tangram.png?style=badge&circle-token=2529a88125530794f64ffa1783625b5357456f71)](https://circleci.com/gh/tangrams/tangram)


Tangram is a library for rendering 2D & 3D maps with WebGL. It is tuned for OpenStreetMap data, but supports any tiled source of GeoJSON/TopoJSON or binary vector tiles.

## Quickstart

1. Clone or download this repository:
  - clone in a terminal window with `git clone https://github.com/tangrams/tangram.git`
  - or download a zip directly: https://github.com/tangrams/tangram/archive/master.zip
2. Start a webserver in the repository's directory:
  - in a terminal window, enter: `python -m SimpleHTTPServer 8000`
  - if that doesn't work, try: `python -m http.server`
3. View the map at http://localhost:8000 (or whatever port you started the server on)

## Demos

[**tangram-demo**](http://github.com/tangrams/tangram-demo) - A minimal demo showing the basic setup

[**gui-demo**](http://github.com/tangrams/gui-demo) - Control styles in real-time with a gui

[**shaders-demo**](http://github.com/tangrams/shaders-demo) - More complex glsl shaders

[**highways-demo**](http://github.com/tangrams/highways-demo) - Zoom-dependent styles and contextual filtering rules

## Vector Tiles

Instead of using traditional image tiles, we render from **vector tiles** that contain the underlying source geometry for each tile's bounding box.

Mapzen provides a free [vector tile service](http://mapzen.com/vector/) that can be used with Tangram for OpenStreetMap base layer data, with worldwide coverage updated daily. There is also an [OSM.US-hosted](http://openstreetmap.us/~migurski/vector-datasource/) alternative.

Tangram currently supports GeoJSON/TopoJSON tiles as well as the [mapnik binary format](https://github.com/mapbox/vector-tile-spec), both of which can be generated by the [Mapzen vector tile service](http://mapzen.com/vector/).

Here's an [example GeoJSON tile](http://vector.mapzen.com/osm/all/14/4826/6161.json).

The library also includes a [Leaflet](http://leafletjs.com) plugin, `Tangram.LeafletLayer`, to provide basic web map pan/zoom functionality.

## Installation

```
npm install
make
```

The library will be minified in `dist/`, and `index.html` provides an example for rendering from different sources and simple Leaflet integration.

## Examples

- [**NYC / Lower Manhattan**](https://mapzen.com/tangram/#mapzen,40.70479834544056,-74.0057945251465,15)
- [**NYC / Central Park**](https://mapzen.com/tangram/#mapzen,40.78004586258099,-73.96652698516847,16)
- [**Berlin**](https://mapzen.com/tangram/#mapzen,52.52177659937554,13.373343944549562,16)
- [**Colosseum & Roman ruins**](https://mapzen.com/tangram/#mapzen,41.889367479706124,12.488912343978884,17)



## Test

To run all of the tests.

```shell
npm test
```
Every time this runs, an new browser instance is created. If you wish to
have a single browser instance and run the test suite against that
instance do the following,

```shell
make karma-start
```

And then run the tests with,

```shell
make run-tests
```

## Lint
We use jshint to maintain code quality

```shell
make lint
```
